# 天气查询
> [!note]
> 使用场景: 给不知道天气的人个提醒(bushi

```python
import AfdianBot
import requests

bot = AfdianBot.Bot(account="xxxxx", password="xxxx") # 实例化bot

@bot.register("/天气 (.*) (.*) (.*)")
def weather(province,city,county):
    msg = AfdianBot.ctx.get_current_msg()
    headers = {
        "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36"
    }
    # 查询天气
    r1 = requests.get(f"https://wis.qq.com/weather/common?source=pc&weather_type=observe&province={province}&city={city}&county={county}",headers=headers).json()['data']['observe']
    bot.send_msg(f"""查询地区：{province}{city}{county}
温度:{r1.get('degree')}
湿度:{r1.get('humidity')}
天气:{r1.get('weather')}
更新时间:{r1.get('update_time')}
风向:{r1.get('wind_direction_name')}
风级:{r1.get('wind_power')}""",msg.sender_id)

bot.run()
```