# 获取赞助者(get_sponsors)
## 使用实例
```python
import AfdianBot

bot = AfdianBot.Bot(account="xxx",password="xxxx") # 实例化一个bot

@bot.register("/test1")
def test1():
    print(AfdianBot.api.get_sponsors(num=20,page=1,target="xxx")) # 运行机器人时可忽略user_id&api_token&target,将自动填入bot的信息

print(AfdianBot.api.get_sponsors(num=20,page=1,target="xxxxx",user_id="xxxx",api_token="xxxx")) # 单用时请传入user_id与api_token与target

bot.run() # 运行机器人
```

## api.get_sponsors 函数解析

> 查询指定用户的信息

### 输入参数
| 字段名       | 类型     | 描述                          |
|-----------|--------|-----------------------------|
| num       | int    | 一页获取几个赞助者,默认20              |
| page      | int    | 获取第几页的数据,默认1                |
| target    | string | 获取谁的订单记录(填user_id),选填       |
| user_id   | string | 查询者的用户id,默认使用bot的user_id    |
| api_token | string | api_token,默认使用bot的api_token |

### 返回格式参照
List类型
```json
[
  {
    "user": {
      "user_id": "xxxxxx",
      "name": "esrjgnmlkedjsrfv",
      "avatar": "https://xxxx"
    },
    "all_sum_amount":2.33,
    "current_plan_id":"xxxxx",
    "sponsor_plans":[
      {
        "plan_id":"xxxx",
        "expire_time":123123123
      }
    ]
  },
  {
    "user": {
      "user_id": "xxxxxx",
      "name": "liowerkfjmnclkvjmrsedlokfjm",
      "avatar": "https://xxxx"
    },
    "all_sum_amount":11.45,
    "current_plan_id":"xxxxx",
    "sponsor_plans":[
      {
        "plan_id":"xxxx",
        "expire_time":871234123
      }
    ]
  }
]

```
| 字段名             | 类型     | 描述          |
|-----------------|--------|-------------|
| user            | dict   | 用户信息,见下面    |
| all_sum_amount  | float  | 用户赞助的总金额    |
| current_plan_id | string | 最近一次赞助的方案id |
| sponsor_plans   | list   | 赞助过的方案      |

### user字段json格式
| 字段名     | 类型     | 描述         |
|---------|--------|------------|
| user_id | string | 用户的user_id |
| name    | string | 用户的名称      |
| avatar  | string | 用户的头像网址    |

### sponsor_plans字段json格式
| 字段名         | 类型     | 描述      |
|-------------|--------|---------|
| plan_id     | string | 方案id    |
| expire_time | int    | 过期时的时间戳 |