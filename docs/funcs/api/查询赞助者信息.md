# 查询赞助者信息(query_sponsor)
## 使用实例
```python
import AfdianBot

bot = AfdianBot.Bot(account="xxx",password="xxxx") # 实例化一个bot

@bot.register("/test1")
def test1(msg:AfdianBot.types.TextMsg):
    print(AfdianBot.api.query_sponsor(user_id=msg.sender_id)) # 运行机器人时可忽略auth_token,将自动填入

print(AfdianBot.api.query_sponsor(user_id="xxx", auth_token="xxx")) # 单用时请传入auth_token

bot.run() # 运行机器人
```

## bot.register 函数解析

> 查询指定用户的信息

### 输入参数
| 字段名        | 类型     | 描述                                |
|------------|--------|-----------------------------------|
| user_id    | string | 目标的用户id                           |
| auth_token | string | auth_token,默认使用bot当前登录的auth_token |

### 返回参数
Dict类型

| 字段名            | 类型    | 描述             |
|----------------|-------|----------------|
| all_sum_amount | float | 总赞助金额          |
| current_amount | float | 最近一次赞助金额       |
| plans          | list  | 赞助过的方案列表,格式见下表 |

### plans格式参照
```json
[
    {
        "plan_id": "xxxx",
        "time": 123123123
    },
    {
        "plan_id": "xxxxx",
        "time": 123123123123
    }
]
```
| 字段名     | 类型     | 描述     |
|---------|--------|--------|
| plan_id | string | 方案id   |
| time    | int    | 时间戳    |